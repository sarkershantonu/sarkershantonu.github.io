---
layout: post
title: 'How to read file in jmeter? '
date: '2013-05-22T20:06:00.000+06:00'
author: Shantonu Sarker
tags:
- jmeter
modified_time: '2014-05-25T08:56:08.610+06:00'
blogger_id: tag:blogger.com,1999:blog-2902524569242410076.post-1371605723597190844
blogger_orig_url: https://shantonusarker.blogspot.com/2013/05/how-to-read-file-in-jmeter.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">As we know previously that can read file in jmete by different config elements. In this article we are going to see functions that are used in jmeter used for the same purpose. That means, we can use the function directly reading file without any component. <br /><br />We can read file in 4 ways. They are<br /><br /><span style="font-size: large;">1. String from File : </span><br />It is used for reading a string form a text file. This function is same as CSV Data Set config element. It does not supports multiple files. <br />-Each time function call, it reads the next line<br />-All thread share the same function, so during execution, different thread will get different line sequentially.<br />-At the EOF, it will start from begin of the file(a maximum loop can be set)<br />- If there is an multiple reference in single thread, it will open the file separately(even we use different file) <br />-It is best practice to use different variable names for each function call.<br />-Reference variable is resolved(initiated) each time function call <br />- It returns ERR if there is an error opening file.&nbsp; <br />-This is very useful when test required a lot of variable.<br /><br /><b><i>&nbsp;${__StringFromFile(D:\Shantonu.txt,myVeriable,,)}</i></b><br /><br />-It has 4 parameter, File name(mandatory, full path), Variable name , Start Sequence Number &amp; End sequence number as integer. Sequence number is used for defining reading file pattern.<br /><br /><br /><b>Note for using Sequence number:&nbsp;</b><br />-If sequence numbers are used, the path name is used as the format string(not file path) for java.text.DecimalFormat&nbsp; <br />-# or 0[any digit] is used as for representing as Number <br />-"." is a formatting character so it is enclosed in single quotes like '.'<br />-If the path name does not contain any special formatting characters, the current sequence number will be <b>appended to the name</b>, otherwise the number will be inserted according to the formatting instructions. Example :&nbsp; if we use <br /><b><i>${__StringFromFile(Shantonu#'.'txt,</i><i><i>myVeriable</i>,1,2)}</i></b><br />It will read <b>Shantonu1.txt and Shantonu2.txt</b>. Like as start with number 1 to 2.<br /><br />-If the <b>start sequence number is omitted</b>, and the end sequence number is specified, the sequence number is interpreted as a <b>loop count</b>, and the file will be used at most "end" times. In this case the file name is not formatted . Example :&nbsp; if we use <br />${__StringFromFile(Shantonu.txt,<i>myVeriable</i>,,2)}<br />It will read<b> Shantonu.txt twice</b>. That means end sequence 2 is the loop count of reading file.<br /><br /><span style="font-size: large;">2. File to String :</span><br />It is used to read entire file at a time. It returns ERR if there is an error opening file.&nbsp; <br /><br /><b><i>${__FileToString(D:\Shantonu.txt,ASCII,${userName})}</i></b><br /><br />-It has 3 parameter, file name(mandatory), Encoding (to read file) and variable name(where to put value.<br />-File name is the full path to file. <br />-Encode depend on what type of file we use(like ASCII). If blank, it use platform default(os)<br />-We can use new variable by assigning a new variable(like myVer) or we can use our stored variable and use this(like ${userName}). In case of stored variable, the value will be assigned by this function. <br />-The file name, encoding and reference name parameters are resolved on each time function called<br /><br /><br /><span style="font-size: large;">3. CSV file Reading :</span><br />This function is same as CSV Data Set config element. But, it supports multiple file reading(using . *alias) <br /><b><i>${__CSVRead(D:\Shantonu.csv,0)}</i></b><br />-It returns a string from a CSV file. From starting, it read full file in to internal array and if it found blank, it assumes as end of file.[So, we can comment at the end]&nbsp; <br />-This function has 2 parameter, File path and, column number.<br />-File parameter (path) is case secretive. Ex- if shantonu.csv and Shantonu.csv are given, it will operate separately creating separate internal array. <br /><br />-Each thread has a internal pointer to its current row in the file array. When a thread first refers to the file it will be allocated the next free row in the array, so each thread will access a different row from all other threads. [Unless there are more threads than there are rows in the array.]. That means , if we run 5 threads, and if we have 5 lines in CSV file, each thread will get one after another sequentially. Not that, every one will get all 5 lines.<br /><br />-The function splits the line at every comma by default. If we want to enter columns containing commas, then you will need to change the delimiter to a character by setting the property:<i> csvread.delimiter</i><br />-The second parameter takes either column number as integer or "next". Next will go to next line of file. <br />-We can use this function more than one time in same variable like<br /><b><i>${__CSVRead(D:\Shantonu.csv,0,D:\Shantonu.csv,next)}</i></b><br />-As this file is stored in memory, so better not to use this to save memory.<br /><br /><span style="font-size: large;">4. Xpath matching with XML file</span><b> </b>:<br /><br />It reads XML file and matches XPath each time the function called. After reaching to end of the file, it will start again.<br /><br /><b><i>${__XPath(D:\ShantonuTest.XML,.//*[@id='birthday_reminders_link']/div/div/div/span/strong)}</i></b><br /><br />-It has two parameter,&nbsp; first one is local path of xml file with name and 2nd one is the xpath to match. Both are mandatory fields.<br />-It returns the next match Xpath(if it found matching) <br />-It returns  Empty string if no matches with warning message to jmeter log&nbsp; <br /><br />-It takes a lot of memory as all Node List stays in memory<br /><br />Thanks...:) </div><div class="blogger-post-footer">Thanks for reading my personal blog. contact: shantonu_oxford@yahoo.com</div>