---
layout: post
title: 'Performance Bugs: How to find? How to report?'
date: '2015-01-29T14:01:00.002+06:00'
author: Shantonu Sarker
tags:
- Performance Testing
modified_time: '2015-01-29T14:01:27.889+06:00'
blogger_id: tag:blogger.com,1999:blog-2902524569242410076.post-6790007015022943596
blogger_orig_url: https://shantonusarker.blogspot.com/2015/01/bugs-web-performance-find-report.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">In this article we are going to know how to find bugs related to performance as well as how to report them. This is very basic checklist which will differ based on your project. I will try to give example with asp.net web application. <br /><br />To know about basic bug and reporting , you can see one my <b><a href="http://shantonusarker.blogspot.com/2012/09/a-good-bug-report.html" target="_blank">previous posts </a></b>which tells us all about a bug report. <br /><br /><span style="font-size: large;">Performance Bugs :</span><br /><br />This is kind of admiring that Performance bugs are hard to find. Very difficult to get the evidence. So, if you are finding bugs, you have to be preferred with full performance goal and requirements.&nbsp; <br />And, you have to monitor your application as well as resources(CPU/Memory/Disk/IO etc).<br />While monitoring resources, you have to see the pattern of resource uses and application behavior.<br />You need to make heuristics analysis either with pen and paper or inside monitor tool to observe the change behaviors.<br /><br />This way you can get the scenario or scope of area for possible bug. It's more like investigation and waiting for possible incident(like Sharlok Homes).<br /><br />Before doing that, you must know the <b>Architecture </b>of your<br />-&gt;<b>Application </b>(Development and Deployment model, framework used, platform architecture, security modules etc)<br />-&gt;<b>Infrastructure</b>(How deployed, environment, which code/modules executes where &amp; how)<br /><br />And you also should know, why you are testing in every aspect (Goals and Requirement)<br /><br />Example : I consider following for an individual request to find bug for my last project(web)<br /><br />1.&nbsp;&nbsp;&nbsp; What is the <b>size </b>of the request?<br /><br />2.&nbsp;&nbsp;&nbsp; How much <b>time </b>it needs for going to server and coming back with http 200 messages(server get the request) and with responses.<br /><br />3.&nbsp;&nbsp;&nbsp; What are <b>parameters </b>we are sending as request in Http body, URL and Headers?<br /><br />4.&nbsp;&nbsp;&nbsp; <b>Why we are sending which parameters?</b><br />&nbsp; a.&nbsp;&nbsp;&nbsp; <b>Categorizing </b>those parameters,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i. Which parameters are based on client behavior/step<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ii. Which parameters are based on client data?<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iii. Which are based on environment<br />&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; iv.Which are based on our application implementation<br /><br />&nbsp; b.&nbsp;&nbsp;&nbsp; Finding <b>unnecessary parameters</b> which browser send from client and how can we eliminate them.(optimization)<br />&nbsp; &nbsp; i. Eliminating unnecessary parameters(based on business logic)<br />&nbsp;&nbsp; ii. Optimize necessary parameters(like view state, call backs)<br /><br />&nbsp; c.&nbsp;&nbsp;&nbsp; How can we make those requests more <b>precise </b>and optimize for communication.<br />&nbsp;<br />&nbsp; d.&nbsp;&nbsp;&nbsp; Organizing resources(JS/AJAX/Image/CSS/JQuery)<br /><br />&nbsp; e.&nbsp;&nbsp;&nbsp; Compress the requests and responses<br /><br />&nbsp; f.&nbsp;&nbsp;&nbsp;&nbsp; Using long time cookie for static resources with expire ending.<br /><br />5. Why we are sending request in this <b>manne</b>r? can we send in any other way to keep the application faster?(like replacing post back calls with Ajax)<br /><br /><span style="font-size: large;">How to get the Evidence?&nbsp;</span><br />Difficult bugs comes with much harder traceability...:)<br />So, as it is hard to find, you have prepare for evidence. Usually, performance bug evidence can be found in these aspects.<br /><br />a. <b>While debugging</b> application from client and server for defined test steps. This should be done with tools as well as manually. (before performance test script generation in tool)<br /><br />b. <b>Monitoring resources and application</b> while performance testing(like : IIS/apache, hosted PC, Application , DB for a web application)<br /><br />c. <b>Analyzing Reports</b> generated by performance tools after test execution<br /><br />d. <b>Client side single user execution</b> during high /peak load test is going on. You have to have debug tools enabled along with browser monitoring tools(web product)/proxy based tools.<br /><br />So, to get evidence,<br />-&gt;I suggest to be prepared for <b>Screenshots/Video </b>recording for analysis later on.<br />-&gt;Make some<b> Log analysis </b>scripts or parsers to have quick log analysis.<br />-&gt;Be prepare with<b> Pen &amp; Paper</b> to make quick notes. <br />-&gt;Make you mind for <b>observing </b>interesting important items which you see and related to<b> goal</b><br />-&gt;Try <b>not to interrupt</b> test execution, better to let it finish<br />-&gt;Try l<b>ong term </b>test execution , when you need to test capacity of your application . I prefer 12/24 hour run over weekends.<br />-&gt;Try <b>mixing up load scenario</b> for different execution, More user, less time, more user long time, constant user increment, user high-low combination(like spike) , combining high load and security scanning etc<br />This is fully depend on application that you are working with. It may not be based on my experiences. <b>Try to get more load scenarios involving with your application architecture &amp; performance goals.</b><br /><br /><span style="font-size: large;">How to write a performance bug report?</span> :<br />This is interesting, usually bugs are very specific to UI or user interactions. But, as performance testing is more related to application architecture testing. So, performance bugs should also have reference with application execution as well as how it happened from architectural prospective. That means, this standard procedure of bug reporting and <b>+ Something</b>. And This "something" part should be developer friendly as well as full detail with references(as developers will read and get find what you are trying to explain). Let's see more detail on the "Something" with example.&nbsp; <br /><br />Example , for a web application with http protocol, when you click a button, a function bug will refer to only the use case, but a performance bug should also refer to what request we send to server &amp; received from server in details.<br />You should add reference on the requested URL, header details, body details. It should have detail explanation on those areas.<br /><br />For this example, let say a http request&nbsp; Body has 25 parameters &amp; 21 of them with values. So,<br />- What are those parameters,<br />- What are the reference of the parameters, <br />- Why those values are there.<br /><br />Same justification for request header also. Up to this, it is only description. <br /><br />So, what will be inside <b>evidence</b>? It should reflect your requirements. Let's say you need to know size, time and capacity for this request and you get the bug. So, in bug report you should provide<br /><br />a. The total size of the request send to server<br /><br />b. Time taken for server processing(http 200 response) for this requests<br /><br />c. How the time varies in case of different load scenario<br /><br />d. How many responses are received for this request.<br /><br />e. Individual and total size of all of those responses.<br /><br />f. Individual and total time&nbsp; of all of those responses for different load scenarios<br /><br />g.What is the rendering time for those request(Time from individual single user perform the same task in browser â€“ server response time calculated from server)<br /><br />h. For Rendering, which response takes how much time in browser(from browser tool, or fiddler or proxy)<br /><br />And, From individual request, you need to break down each parameter detail and possible cause for taking the amount of time that the request is taking.<br /><br /><span style="font-size: large;">For advance QAs : (Root Cause Analysis &amp; Suggestions) : </span><br /><br />You can go more further, for that you might need to have access of the code. You have to include profiler and should see what cause taking more time for that single request processing.<br /><br />For web application, use profiler in IIS as well as in code base to pinpoint each request impact. Like, we are doing in our project , tracing from IIS, prove with profiler in IIS, tracing respective event inside code with code analysis tools and provide evidence on what cause the extra time.<br /><br />Some, senior QAs can go more further. They can provide possible solution to overcome situation.<br /><br />Example : In our project, we have found , we are not using viewstate(asp.net) properly that cases a huge time. So, we are in need for optimizing view state. But, there are several ways to do. So, we are suggesting different ways as well as impact of the ways for solving. This involve retesting ,that verifies the bug . This part should consider business requirements as well as security requirements.<br /><br />So , summary, a bug should contains steps to reproduce and standard items mandatory for a function bug , as well as Screenshots, Logs, Charts, test results, Analysis reports, Code snipped, Demo projects, tool references etc.<br /><br />Thanks...:) </div><div class="blogger-post-footer">Thanks for reading my personal blog. contact: shantonu_oxford@yahoo.com</div>