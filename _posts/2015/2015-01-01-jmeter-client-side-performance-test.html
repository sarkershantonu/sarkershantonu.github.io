---
layout: post
title: How to perform client side web performance testing in JMeter?
date: '2015-01-01T02:25:00.000+06:00'
author: Shantonu Sarker
tags:
- jmeter
- Performance Testing
modified_time: '2015-01-04T10:31:26.448+06:00'
thumbnail: http://lh3.ggpht.com/-FqNYdBLhpNY/VKRbFDRWQCI/AAAAAAAABGk/tmWr-aTkVwA/s72-c/installation_thumb%25255B3%25255D.jpg?imgmax=800
blogger_id: tag:blogger.com,1999:blog-2902524569242410076.post-4785999714599716512
blogger_orig_url: https://shantonusarker.blogspot.com/2014/12/jmeter-client-side-performance-test.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">In this article we will see how can we do client side performance testing using Jmeter Plugins.<br /><br />I will be using jmeter webdriver plugins. Before starting this topic, please have some basic on what is client side performance testing from my previous post.So, lets start with <br /><div dir="ltr" style="text-align: left;" trbidi="on"><br /><span style="font-size: large;">Installation :</span> </div><div dir="ltr" style="text-align: left;" trbidi="on"><br />1. Install Jmeter and Plug ins from below links following <b><a href="http://shantonusarker.blogspot.com/2013/01/how-to-install-plugins-in-jmeter.html" target="_blank">this post.</a></b> </div><div dir="ltr" style="text-align: left;" trbidi="on">-&gt;Jmeter</div><div dir="ltr" style="text-align: left;" trbidi="on">-&gt; <b><a href="http://jmeter-plugins.org/" target="_blank">Plugins</a></b>(you may choose only web driver, but I prefer all of them)</div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br />2. Download <b><a href="http://www.seleniumhq.org/download/" target="_blank">Selenium Server</a></b> from here. (you need java to run that)</div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br />3. Download Firefox 26 from <b><a href="https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/26.0/win32/en-US/" target="_blank">Archive</a></b>. Why 26? because jmeter webdriver plugins supports firefox 26. Here is <b><a href="http://jmeter-plugins.org/wiki/FirefoxDriverConfig/" target="_blank">link</a></b> where you see supports the details.</div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on">Note: This can be tricky if you have updated Firefox version. In that case you can do like me.</div><div dir="ltr" style="text-align: left;" trbidi="on">-&gt;Disable firefox update checking </div><div dir="ltr" style="text-align: left;" trbidi="on">-&gt; Install in new folder in separate directory name.<br /></div><div dir="ltr" style="text-align: left;" trbidi="on"><a href="http://lh5.ggpht.com/-A1GSEsQyyRw/VKRbEemj2kI/AAAAAAAABGc/KVznbIBUoMQ/s1600-h/installation%25255B5%25255D.jpg"><img alt="installation" border="0" src="http://lh3.ggpht.com/-FqNYdBLhpNY/VKRbFDRWQCI/AAAAAAAABGk/tmWr-aTkVwA/installation_thumb%25255B3%25255D.jpg?imgmax=800" height="483" style="border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline;" title="installation" width="607" /></a> </div><div dir="ltr" style="text-align: left;" trbidi="on"><br />-&gt;When you run this one for the first time , just cancel initial update process. As you have disabled firefox update(in your updated firefox), make sure you see the update settings disabled in this firefox 26 too.<br /><br />Note : This part is little tricky, I have provided separate<b><a href="http://shantonusarker.blogspot.com/2015/01/run-multiple-version-of-firefox-windows.html" target="_blank"> post </a></b>to resolve it. <br />For Jmeter Remote Execution or local, it is better to to have only one firefox (version 26) with no auto update settings which will minimize complexity for test execution. <br /><br /></div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on">4. Keep firefox 26, selenium server in path variable. To check, type firefox from command line and run. You should see, firefox 26 launched in desktop.</div><div dir="ltr" style="text-align: left;" trbidi="on"><br /><a href="http://lh4.ggpht.com/-5Db-n5psYk4/VKRbFpD1CQI/AAAAAAAABGo/tvnHs5kFLJM/s1600-h/image%25255B18%25255D.png"><img alt="image" border="0" src="http://lh6.ggpht.com/-2E6m4eWeR54/VKRbGGu9GQI/AAAAAAAABG0/AWy350H3oWA/image_thumb%25255B10%25255D.png?imgmax=800" height="204" style="border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline;" title="image" width="429" /></a> </div><div dir="ltr" style="text-align: left;" trbidi="on"><a href="http://lh5.ggpht.com/-Q1qlImBR3C4/VKRbG8m139I/AAAAAAAABG8/FR7d9FVvJ-s/s1600-h/image%25255B9%25255D.png"><img alt="image" border="0" src="http://lh4.ggpht.com/-aARPfHClwts/VKRbHsuxYsI/AAAAAAAABHE/VZOeSktMOsE/image_thumb%25255B5%25255D.png?imgmax=800" height="157" style="border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline;" title="image" width="670" /></a> </div><div dir="ltr" style="text-align: left;" trbidi="on"><a href="http://lh3.ggpht.com/-IVBBt-9G2ss/VKRbIC8Gi0I/AAAAAAAABHM/OTwJG7tRjAw/s1600-h/image%25255B19%25255D.png"><img alt="image" border="0" src="http://lh3.ggpht.com/-njGWDJDXPNs/VKRbIwVPQ_I/AAAAAAAABHU/Z2FQAzSw64I/image_thumb%25255B11%25255D.png?imgmax=800" height="208" style="border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline;" title="image" width="463" /></a> </div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br />5. Setting Jmeter: Usually , we do not need any extra things for webdriver sampler. But, as we need debugging, we might use this following property in user.properties file.</div><div dir="ltr" style="text-align: left;" trbidi="on"><a href="http://lh6.ggpht.com/-KVyw9uAyVyQ/VKRbJZUwYCI/AAAAAAAABHc/uVPHxA9iHlQ/s1600-h/webDriverJmeter%25255B5%25255D.png"><img alt="webDriverJmeter" border="0" src="http://lh5.ggpht.com/-yqStXsfZBTY/VKRbKBxE7sI/AAAAAAAABHg/NYnilH7LzX0/webDriverJmeter_thumb%25255B3%25255D.png?imgmax=800" height="554" style="border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline;" title="webDriverJmeter" width="583" /></a> </div><div dir="ltr" style="text-align: left;" trbidi="on"><br />It enables sub sampling which is good for debugging.&nbsp;</div><div dir="ltr" style="text-align: left;" trbidi="on"><i><span style="font-size: medium;">webdriver.sampleresult_class=true</span></i></div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on">Let me explain more in<b> <span style="font-size: medium;">how it works</span>:</b> JMeter webdriver sampler is just an extension of http sampler, not alternative, with a script editor. When it runs, it actually calls firefox driven by webdriver. That means, it send its instruction to mainly webdriver and, webdriver does every thing. Now, you might be wondering how code goes to web deriver. Like as other code support, webdriver core run as external code following <b>JSR </b>specification. It is actually <b>JavaScript </b>execution. And, you see, it is just like as webdriver java code with some basic modification due to jmeter adoption. I will provide separate blog or coding. </div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br />And after you write the steps as webdriver script, use listeners to get time. Like as other samplers, you use listeners to debug sensibly.</div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><span style="font-size: large;">Browser supporting :&nbsp;</span><br />Just follow this <b><a href="http://jmeter-plugins.org/wiki/WebDriverSet/" target="_blank">link</a></b> which tells the configurable browser names that are supported by webdriver sampler. You can see this from jmeter also,</div><div dir="ltr" style="text-align: left;" trbidi="on"><a href="http://lh3.ggpht.com/-vM5EeAwXKuY/VKRbKtTMcoI/AAAAAAAABHo/Z4RtqYevByw/s1600-h/image%25255B4%25255D.png"><img alt="image" border="0" src="http://lh6.ggpht.com/-ELBlIuIjZX4/VKRbLemY6jI/AAAAAAAABHw/ksXjltHwLs4/image_thumb%25255B2%25255D.png?imgmax=800" height="484" style="border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline;" title="image" width="645" /></a> </div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br /><span style="font-size: large;">Time Measurement:</span> </div><div dir="ltr" style="text-align: left;" trbidi="on"><br />webdriver sampler calculates time from this line of code </div><div dir="ltr" style="text-align: left;" trbidi="on"><b>WDS.sampleResult.sampleStart()</b></div><div dir="ltr" style="text-align: left;" trbidi="on">to this line of code </div><div dir="ltr" style="text-align: left;" trbidi="on"><b>WDS.sampleResult.sampleEnd()</b></div><div dir="ltr" style="text-align: left;" trbidi="on"><br />So, for debugging, we need sub samples which will be shown as child of main sample. For this purpose, we need to activate <b>sampleresult_class</b> true. After activation we can do sub sampling like </div><div dir="ltr" style="text-align: left;" trbidi="on"><br /><i><b>WDS.sampleResult.sampleStart()</b></i></div><div dir="ltr" style="text-align: left;" trbidi="on"><i><b>//Brows to a URL</b></i></div><div dir="ltr" style="text-align: left;" trbidi="on"><i><b>//Add user name and password</b></i></div><div dir="ltr" style="text-align: left;" trbidi="on"><i><b>WDS.sampleResult.subSampleStart('Log In request')</b></i></div><div dir="ltr" style="text-align: left;" trbidi="on"><i><b>//Click Log in<br />WDS.sampleResult.subSampleEnd(true)</b></i></div><div dir="ltr" style="text-align: left;" trbidi="on"><i><b>//Check title</b></i></div><div dir="ltr" style="text-align: left;" trbidi="on"><i><b>//do some another process</b></i></div><div dir="ltr" style="text-align: left;" trbidi="on"><i><b>WDS.sampleResult.sampleEnd()</b></i></div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on">In view result tree listener, you can see , main sample contain sub sample name “'Log In request'”. And a main sample can have multiple sub sample. That means, we can calculate each time separately from result tree. </div><div dir="ltr" style="text-align: left;" trbidi="on"><br />Note that, sub samples will not be shown separately in tabular format listeners or graphs. </div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on">And, if we need to measure particular transaction . we can split single test among multiple webdriver sample. Like, a sampler for log in, a sampler for doing some work in home page, a sampler for messaging. In this way, we can see results in reports. Usually each business transaction is measured in separate sample where as detail steps are sub sampled. </div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br /><b><span style="font-size: medium;">Writing first script : </span></b> </div><div dir="ltr" style="text-align: left;" trbidi="on"><br />To write webdriver sampler script , you need to add webdriver sampler(sampler –&gt;webdriver sampler) with any browser (driver)configuration. See image from browser supporting section to get the driver configuration elements. </div><div dir="ltr" style="text-align: left;" trbidi="on">I will provide separate post for how to write webdriver test script with an example. You can see some nice guidelines form <b><a href="http://jmeter-plugins.org/wiki/WebDriverSampler/" target="_blank">wedriver sampler wiki</a>.</b> </div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br /><span style="font-size: large;">Test Planning :</span><br /><br />As we know from my previous post on client side performance test, this test should run from single user or thread. As jmeter sampler populate browser with webdriver, this has me particular hardware requirement. That is, it will occupy a single thread of a processor. That means,<b> if you want to run webdriver sampler, you need at least 2 core CPU</b>. Why 2 core, another one is for Jmeter. So, if you have 8 core CPU, you can run only 7 threads for webdriver samplers. So, for testing we have to add separate thread group or test block for webdriver sampler. </div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br />We will run for measuring client execution time on</div><div dir="ltr" style="text-align: left;" trbidi="on"><b>1. When there is not much user load, .</b></div><div dir="ltr" style="text-align: left;" trbidi="on"><b>2. When average load on server ,</b></div><div dir="ltr" style="text-align: left;" trbidi="on"><b>3. When High load(considered as peak load)</b></div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br />Sometimes , It is also better to test under </div><div dir="ltr" style="text-align: left;" trbidi="on"><b>1. Beyond capacity , where error can be occurred or may just after error condition. </b></div><div dir="ltr" style="text-align: left;" trbidi="on"><b> 2. As continuous performance testing. Usually, people run selected regression test with jmeter daily or weekly.</b> </div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br />Again, formula is simple, <b>1 thread of CPU for single client performance testing.</b>&nbsp;</div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br />And, you run the test simply like as Jmeter test, that's all. More detail will be in my blog with example.</div><div dir="ltr" style="text-align: left;" trbidi="on"></div><div dir="ltr" style="text-align: left;" trbidi="on"><br />Thanks …:)</div><div dir="ltr" style="text-align: left;" trbidi="on"></div></div><div class="blogger-post-footer">Thanks for reading my personal blog. contact: shantonu_oxford@yahoo.com</div>